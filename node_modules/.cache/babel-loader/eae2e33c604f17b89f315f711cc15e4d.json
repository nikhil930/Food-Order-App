{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Nikhil/Desktop/Projects/FoodOrderApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Nikhil/Desktop/Projects/FoodOrderApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Nikhil/Desktop/Projects/FoodOrderApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classes from'./AvailableMeals.module.css';import Card from'../UI/Card';import MealItems from'./MealItems/MealItems';import{useState,useEffect}from'react';// const DUMMY_MEALS = [\n//     {\n//       id: 'm1',\n//       name: 'Sushi',\n//       description: 'Finest fish and veggies',\n//       price: 22.99,\n//     },\n//     {\n//       id: 'm2',\n//       name: 'Schnitzel',\n//       description: 'A german specialty!',\n//       price: 16.5,\n//     },\n//     {\n//       id: 'm3',\n//       name: 'Barbecue Burger',\n//       description: 'American, raw, meaty',\n//       price: 12.99,\n//     },\n//     {\n//       id: 'm4',\n//       name: 'Green Bowl',\n//       description: 'Healthy...and green...',\n//       price: 18.99,\n//     },\n//   ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";var AvailableMeals=function AvailableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),httpError=_useState6[0],setHttpError=_useState6[1];useEffect(function(){var fetchMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedMeals,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://react-http-8d93b-default-rtdb.firebaseio.com//meals.json');case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw new Error('Something went wrong');case 5:_context.next=7;return response.json();case 7:data=_context.sent;loadedMeals=[];for(key in data){loadedMeals.push({id:key,name:data[key].name,description:data[key].description,price:data[key].price});}setMeals(loadedMeals);setIsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchMeals(){return _ref.apply(this,arguments);};}();fetchMeals().catch(function(err){setIsLoading(false);setHttpError(err.message);});});if(isLoading)return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center'},children:\"Loading...\"})});if(httpError){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:httpError})});}var mealsList=meals.map(function(meal){return/*#__PURE__*/_jsx(MealItems,{id:meal.id,name:meal.name,description:meal.description,price:meal.price},meal.id);});return/*#__PURE__*/_jsx(\"section\",{className:classes.meals,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(\"ul\",{children:mealsList})})});};export default AvailableMeals;","map":{"version":3,"sources":["C:/Users/Nikhil/Desktop/Projects/FoodOrderApp/src/components/Meals/AvailableMeals.js"],"names":["classes","Card","MealItems","useState","useEffect","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","fetch","response","ok","Error","json","data","loadedMeals","key","push","id","name","description","price","catch","err","message","textAlign","mealsList","map","meal"],"mappings":"yeAAA,MAAOA,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,OAAQC,QAAR,CAAmBC,SAAnB,KAAmC,OAAnC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;2CAGE,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAK,CAC1B,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAeC,QAAf,eACA,eAA8BJ,QAAQ,CAAC,IAAD,CAAtC,yCAAMK,SAAN,eAAgBC,YAAhB,eACA,eAAkCN,QAAQ,EAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eAEAP,SAAS,CAAC,UAAI,CACb,GAAMQ,CAAAA,UAAU,0FAAG,2LACIC,CAAAA,KAAK,CAAE,kEAAF,CADT,QACXC,QADW,kBAEbA,QAAQ,CAACC,EAFI,8BAIT,IAAIC,CAAAA,KAAJ,CAAW,sBAAX,CAJS,8BAOAF,CAAAA,QAAQ,CAACG,IAAT,EAPA,QAOXC,IAPW,eASXC,WATW,CASC,EATD,CAUjB,IAAUC,GAAV,GAAiBF,CAAAA,IAAjB,CACA,CACEC,WAAW,CAACE,IAAZ,CAAiB,CACfC,EAAE,CAACF,GADY,CAEfG,IAAI,CAACL,IAAI,CAACE,GAAD,CAAJ,CAAUG,IAFA,CAGfC,WAAW,CAACN,IAAI,CAACE,GAAD,CAAJ,CAAUI,WAHP,CAIfC,KAAK,CAACP,IAAI,CAACE,GAAD,CAAJ,CAAUK,KAJD,CAAjB,EAMD,CACDlB,QAAQ,CAACY,WAAD,CAAR,CACAV,YAAY,CAAC,KAAD,CAAZ,CApBiB,uDAAH,kBAAVG,CAAAA,UAAU,0CAAhB,CAuBAA,UAAU,GAAGc,KAAb,CAAmB,SAACC,GAAD,CAAO,CACzBlB,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAACgB,GAAG,CAACC,OAAL,CAAZ,CACA,CAHD,EAIA,CA5BQ,CAAT,CA6BA,GAAGpB,SAAH,CACA,mBAAO,KAAC,IAAD,wBACL,WAAI,KAAK,CAAE,CAACqB,SAAS,CAAC,QAAX,CAAX,wBADK,EAAP,CAGA,GAAGnB,SAAH,CACA,CACE,mBACC,KAAC,IAAD,wBACI,UAAI,KAAK,CAAE,CAACmB,SAAS,CAAC,QAAX,CAAX,UAAkCnB,SAAlC,EADJ,EADD,CAKD,CACC,GAAMoB,CAAAA,SAAS,CAACxB,KAAK,CAACyB,GAAN,CAAU,SAAAC,IAAI,qBAC9B,KAAC,SAAD,EACE,EAAE,CAAEA,IAAI,CAACV,EADX,CAGE,IAAI,CAAEU,IAAI,CAACT,IAHb,CAIE,WAAW,CAAES,IAAI,CAACR,WAJpB,CAKE,KAAK,CAAEQ,IAAI,CAACP,KALd,EAEOO,IAAI,CAACV,EAFZ,CAD8B,EAAd,CAAhB,CAQF,mBAAO,gBAAS,SAAS,CAAEtB,OAAO,CAACM,KAA5B,uBACH,KAAC,IAAD,wBACA,oBACKwB,SADL,EADA,EADG,EAAP,CAOD,CA7DD,CA+DA,cAAezB,CAAAA,cAAf","sourcesContent":["import classes from './AvailableMeals.module.css'\r\nimport Card from '../UI/Card'\r\nimport MealItems from './MealItems/MealItems';\r\nimport {useState , useEffect} from 'react';\r\n\r\n// const DUMMY_MEALS = [\r\n//     {\r\n//       id: 'm1',\r\n//       name: 'Sushi',\r\n//       description: 'Finest fish and veggies',\r\n//       price: 22.99,\r\n//     },\r\n//     {\r\n//       id: 'm2',\r\n//       name: 'Schnitzel',\r\n//       description: 'A german specialty!',\r\n//       price: 16.5,\r\n//     },\r\n//     {\r\n//       id: 'm3',\r\n//       name: 'Barbecue Burger',\r\n//       description: 'American, raw, meaty',\r\n//       price: 12.99,\r\n//     },\r\n//     {\r\n//       id: 'm4',\r\n//       name: 'Green Bowl',\r\n//       description: 'Healthy...and green...',\r\n//       price: 18.99,\r\n//     },\r\n//   ];\r\n\r\n\r\n  const AvailableMeals = () =>{\r\n    const [meals , setMeals]= useState([]);\r\n    const[isLoading,setIsLoading]=useState(true);\r\n    const [httpError ,setHttpError] = useState();\r\n\r\n    useEffect(()=>{\r\n     const fetchMeals = async() =>{\r\n       const response=await fetch ('https://react-http-8d93b-default-rtdb.firebaseio.com//meals.json');\r\n       if(!response.ok)\r\n       {\r\n         throw new Error ('Something went wrong');\r\n       }\r\n    \r\n       const data=await response.json();\r\n       \r\n       const loadedMeals=[];\r\n       for(const key in data)\r\n       {\r\n         loadedMeals.push({\r\n           id:key,\r\n           name:data[key].name,\r\n           description:data[key].description,\r\n           price:data[key].price\r\n         });\r\n       }\r\n       setMeals(loadedMeals);\r\n       setIsLoading(false);\r\n     }\r\n    \r\n     fetchMeals().catch((err)=>{\r\n      setIsLoading(false);\r\n      setHttpError(err.message);\r\n     });\r\n    })\r\n    if(isLoading)\r\n    return <Card>\r\n      <h3 style={{textAlign:'center'}}>Loading...</h3>\r\n    </Card>\r\n    if(httpError)\r\n    {\r\n      return(\r\n       <Card>\r\n           <p  style={{textAlign:'center'}}>{httpError}</p> \r\n        </Card>\r\n      )\r\n    }\r\n      const mealsList=meals.map(meal=>\r\n      <MealItems \r\n        id={meal.id}\r\n        key={meal.id}\r\n        name={meal.name}\r\n        description={meal.description}\r\n        price={meal.price}\r\n      />)\r\n    return <section className={classes.meals}>\r\n        <Card>       \r\n        <ul>\r\n            {mealsList}\r\n        </ul>\r\n        </Card>\r\n    </section>\r\n  };\r\n\r\n  export default AvailableMeals;"]},"metadata":{},"sourceType":"module"}